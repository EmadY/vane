@using System.Linq;
@using System.Collections.Generic;
@using System.Web.Script.Serialization;
@{
    
/* This example no longer works.
    Coord one = new Coord(33.899417, 35.481614);
    Coord two = new Coord(33.899373, 35.481290);
    Coord three = new Coord(33.899395, 35.480890);
    Coord four = new Coord(33.899540, 35.480498);
    Coord five = new Coord(33.899564, 35.480018);
    Coord six = new Coord(33.899600, 35.479581);


    Route r = new Route(one, six);
    r.add_coord(five);
    r.add_coord(three);
    r.add_coord(four);
    r.add_coord(two);

    //JavaScriptSerializer json = new JavaScriptSerializer();
    var json_o = (new JavaScriptSerializer()).Serialize(r);
    */

/*    List<Coord> cs = new List<Coord>();
    string[] lines = File.ReadAllLines(Server.MapPath("/coords.txt"));
    foreach(string line in lines){
        cs.Add(new Coord(Convert.ToDouble(line.Split(',')[1]), Convert.ToDouble(line.Split(',')[0])));  
    }

    Manager m = Manager.getInstance();

    for(int i = 0; i < cs.Count; i++) {
        m.new_reading(cs[i], 3);
    }

    Route R = m.get_van_route(3);
    var json = (new JavaScriptSerializer()).Serialize(R);
    <text>@json</text>

 //   Manager m = Manager.getInstance(); */

 Manager m = Manager.getInstance();
 m.new_reading(new Coord(33.894108 ,35.506922), 1);
 m.new_reading(new Coord(33.8941881 ,35.5065465), 1);

 m.new_reading(new Coord(33.8943395, 35.5484963), 2);
 m.new_reading(new Coord(33.894681 ,35.547249), 2);

 m.new_reading(new Coord(33.895328, 35.4875699), 3);
 m.new_reading(new Coord(33.8950787, 35.487543), 3);

 

/* Coord next_van1 = new Coord(33.89933876617588,35.484729409217834);
 Coord next_next_van1 = new Coord(33.87290423028006,35.505900755524635);

// UserResponse ur = new UserResponse(1, next_van1, next_next_van1);

 

var R = Manager.getInstance().get_user_resp(1, next_van1, next_next_van1);

var json = (new JavaScriptSerializer()).Serialize(R);

    <text>@json</text>

   */ 
}

<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>vané</title>
        <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    </head>
    <body>
    </body>
</html>
